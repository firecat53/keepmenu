{"version":1,"ops":[{"type":6,"author":{"id":"44a0b218d7393260eaabc9384444164cde6f064d"},"timestamp":1567641111,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDI3MzU4Mzk4NA=="},"target":"ac1e7a7c7785d1b8b793d220a7c9c14bc0d995b3a4f78661524f59be60e12d72","message":"System: Arch Linux 4.19 LTS\n\nEvery time I try to open keepmenu (edit: after typing in my database password), I get the error message stating 'bytes' object has no attribute 'encode'. This happened after I recently updated my version of keepmenu to the latest version (r97.6634843-1 from AUR). I haven't updated in quite some time. Not quite sure what is causing this issue.\n\nI have already tried uninstalling it and then reinstalling it via pip. (`pip3 install --user keepmenu`). Then I edited the config file to change the database path to my database. I had the exact same error with that config.","files":null},{"type":3,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1567573728,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyNzc0MjA2MQ==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-527742061"},"message":"Can you please post the actual traceback? I can't tell where the error is coming from otherwise.","files":null},{"type":3,"author":{"id":"44a0b218d7393260eaabc9384444164cde6f064d"},"timestamp":1567641079,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyODEzNjI0OQ==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-528136249"},"message":"As far as I know, there is no traceback that I have seen. When I run keepmenu in the terminal, the only thing that is outputted in it is \"xdotool version 3.20160805.1\". After that, once I get the \"byte object has no attribute encode\" error message in the rofi menu itself and press Enter, the program terminates and nothing else is shown in the terminal. I am also not aware of any debug mode.","files":null},{"type":6,"author":{"id":"44a0b218d7393260eaabc9384444164cde6f064d"},"timestamp":1567641079,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDI3MzU4Mzc2NQ=="},"target":"3b90f3692497c474516ac75538c1abba0e2e959815564bb43c9022872cf9aa35","message":"As far as I know, there is no traceback that I have seen. When I run keepmenu in the terminal, the only thing that is outputted in it is \"xdotool version 3.20160805.1\". After that, once I get the \"byte object has no attribute encode\" error message in the rofi menu itself and press Enter, the program terminates and nothing else is shown in the terminal. I am also not aware of any debug mode.\n\nEDIT: Oh and I should mention the \"byte object\" error message happens after I type in my database password. Sorry for not bringing that up earlier.","files":null},{"type":3,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1567693787,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyODM5MDc2OA==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-528390768"},"message":"Ok... I'm gonna be gone until next week. If you find anything else let me know. I've been meaning and failing to add logging for some time now.\n\nIf you have time, create a new database with KeepassXC and see if keepmenu can open it. I'm running the same OS you are so that's the only thing off the top of my head that I can think might be different... the database.\n\nAlso check that the supporting libraries are up to date and you don't have any old versions installed to ~/.local/share that are overriding the system installed libraries.","files":null},{"type":6,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1567693787,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDI3MzkzODAyMw=="},"target":"3c1a81bc3b1108fe09fea083ad9a8d4dfeaf5f1594ca0a021bc49b195e6d8301","message":"Ok... I'm gonna be gone until next week. If you find anything else let me know. I've been meaning and failing to add logging for some time now.\n\nOh, and try changing your database password to something simple (no Unicode special characters).\nIf you have time, create a new database with KeepassXC and see if keepmenu can open it. I'm running the same OS you are so that's the only thing off the top of my head that I can think might be different... the database.\n\nAlso check that the supporting libraries are up to date and you don't have any old versions installed to ~/.local/share that are overriding the system installed libraries.","files":null},{"type":6,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1567693852,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDI3MzkzODczOQ=="},"target":"3c1a81bc3b1108fe09fea083ad9a8d4dfeaf5f1594ca0a021bc49b195e6d8301","message":"Ok... I'm gonna be gone until next week. If you find anything else let me know. I've been meaning and failing to add logging for some time now.\n\nIf you have time, create a new database with KeepassXC and see if keepmenu can open it. I'm running the same OS you are so that's the only thing off the top of my head that I can think might be different... the database.\n\nAlso check that the supporting libraries are up to date and you don't have any old versions installed to ~/.local/share that are overriding the system installed libraries.\n\nEdit: Oh, and try changing your database password to something simple (no Unicode special characters).","files":null},{"type":3,"author":{"id":"44a0b218d7393260eaabc9384444164cde6f064d"},"timestamp":1567805455,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyOTAyMDkxNQ==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-529020915"},"message":"I created a new db with the password \"some_simple_password\" and successfully opened it through keepmenu. However, my old db password didn't have special characters; only alphanumeric ones, so I don't see how this helps much. So I guess maybe there's something wrong with my existing database? Though other KeePass clients can open it just fine.","files":null},{"type":3,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1567828049,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyOTA2OTAyNA==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-529069024"},"message":"[This error](https://github.com/firecat53/keepmenu/issues/27) I think was similar. They were able to 'fix' it by exporting and then reimporting their database into Keepass. I still don't know why...maybe a pykeepass error somehow? Even if that works for you, leave this open so I'll remember to add logging...","files":null},{"type":3,"author":{"id":"44a0b218d7393260eaabc9384444164cde6f064d"},"timestamp":1567892185,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyOTE0ODczOQ==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-529148739"},"message":"Yep, that did the trick.\n\nI just used keeweb to export my database as XML. Then I used keeweb again to reimport that XML into a new database with the same password. I then made my keepmenu config and phone's KeePass client point to the new db location. I'll let you know if there are further issues.","files":null},{"type":3,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1567900069,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyOTE1NTcxNg==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-529155716"},"message":"Awesome! Thanks for your patience.","files":null},{"type":3,"author":{"id":"3b310c40a3df8b484c392ea945bb34b2930cb457"},"timestamp":1568276847,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMDcyMjIxNQ==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-530722215"},"message":"Hi, I'm having the same issue. After some digging, I think the following backtrace shows what happens:\n```\nTraceback (most recent call last):\n  File \"/home/wsh/.local/bin/keepmenu\", line 353, in get_entries\n    kpo = PyKeePass(dbf, password, keyfile=keyfile)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/pykeepass/pykeepass.py\", line 42, in __init__\n    transformed_key=transformed_key\n  File \"/home/wsh/.local/lib/python3.7/site-packages/pykeepass/pykeepass.py\", line 62, in read\n    transformed_key=transformed_key\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 325, in parse_file\n    return self.parse_stream(f, **contextkw)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 316, in parse_stream\n    return self._parsereport(stream, context, \"(parsing)\")\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 328, in _parsereport\n    obj = self._parse(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 1979, in _parse\n    subobj = sc._parsereport(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 328, in _parsereport\n    obj = self._parse(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 2468, in _parse\n    return self.subcon._parsereport(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 328, in _parsereport\n    obj = self._parse(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 3663, in _parse\n    return sc._parsereport(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 328, in _parsereport\n    obj = self._parse(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 1979, in _parse\n    subobj = sc._parsereport(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 328, in _parsereport\n    obj = self._parse(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 2468, in _parse\n    return self.subcon._parsereport(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 328, in _parsereport\n    obj = self._parse(stream, context, path)\n  File \"/home/wsh/.local/lib/python3.7/site-packages/construct/core.py\", line 2604, in _parse\n    return self.func(context) if callable(self.func) else self.func\n  File \"/home/wsh/.local/lib/python3.7/site-packages/pykeepass/kdbx_parsing/kdbx4.py\", line 57, in compute_transformed\n    key_composite\n  File \"/home/wsh/.local/lib/python3.7/site-packages/pykeepass/kdbx_parsing/common.py\", line 90, in aes_kdf\n    keyfile=keyfile\n  File \"/home/wsh/.local/lib/python3.7/site-packages/pykeepass/kdbx_parsing/common.py\", line 107, in compute_key_composite\n    password_composite = hashlib.sha256(password.encode('utf-8')).digest()\nAttributeError: 'bytes' object has no attribute 'encode'\n```\nThis might have been fixed a few hours ago:\nhttps://github.com/libkeepass/pykeepass/issues/152#issuecomment-530631736","files":null},{"type":3,"author":{"id":"3b310c40a3df8b484c392ea945bb34b2930cb457"},"timestamp":1568277451,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMDcyNTc5MQ==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-530725791"},"message":"Confirming that the error disappears with this pykeepass version: https://github.com/libkeepass/pykeepass/commit/da88c0d1e952e3e4f7d2a8822b05232241dd49d9","files":null},{"type":3,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1569190504,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMzkyMzUwMw==","github-url":"https://github.com/firecat53/keepmenu/issues/42#issuecomment-533923503"},"message":"Seems to be resolved for everyone here, so I'll close. Thanks!","files":null},{"type":4,"author":{"id":"3c87de25ab8b2ec3449081ec888ea2a273bb79fc"},"timestamp":1569190504,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjY1MjkyNDY1Nw=="},"status":2}]}