{"version":1,"ops":[{"type":1,"author":{"id":"b979fd7f819e0e6ce7ea64a672cbc389503c696e"},"timestamp":1525294903,"metadata":{"github-id":"MDU6SXNzdWUzMTk3MTA4OTQ=","github-url":"https://github.com/firecat53/keepmenu/issues/8","origin":"github"},"title":"Add KeeAgent (SSH keys) support","message":"Hi @firecat53,\n\nfirst off: I found this little gem while looking for Keepass-based autotyping solutions that work on wayland, and I was blown away. Keepmenu is amazing! Thank you very much for sharing it! :)\n\nThere is only one feature I found missing for me so far: I still have to open KeepassXC in the background in order for my SSH-Keys to be added to my `ssh-agent` session. It'd be great if keepmenu could do this part, too.\n\nIn order to avoid appearing like a total freeloader, I've had a look into how the SSH Agent protocol and the KeeAgent settings work and come up with my own little prototype to deal with them. I've checked them in over at: https://github.com/mfrischknecht/python-keeagent\n\nThere are some caveats with this prototype so far, but on the whole, it seems to work. Since I had problems with `pycryptodome` (and `pycrypto` itself is hopelessly out of date), [pyca/cryptography](https://github.com/pyca/cryptography) to me seemed like the best library option to deal with the key files. It can't deal with `ed25519` keys (yet), but I have my hopes up that this will change [soon](https://github.com/pyca/cryptography/issues/3509). However, the dependency on pyca/cryptography would mean that python 3.2 and 3.3 wouldn't be supported anymore. Also, I've only tested the KeeAgent code on Keepass databases of version 4.x (created by KeepassXC) so far, but for those, it seems to work nicely. Also, so far, my prototype is read-only for those entries. \n\nI've also found [this site](https://keepass.info/help/kb/kdbx_4.html#innerhdr) which details the option to store binaries in the 'inner header' of Keepass databases, but I haven't been able to figure out how to access that one so far.\n\nWould you consider integrating KeeAgent-functionality into keepmenu anyway? If so, should I attempt to prepare a pull request for that?\n\nCheers,\nManuel","files":null}]}