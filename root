{"version":1,"ops":[{"type":1,"author":{"id":"9abffde177dd441442ec1a75d65bf89cdfd1c5ff"},"timestamp":1559065233,"metadata":{"github-id":"MDU6SXNzdWU0NDkzOTQ5NDA=","github-url":"https://github.com/firecat53/keepmenu/issues/34","origin":"github"},"title":"Setting empty Notes field","message":"If I attempt to remove a Notes field via opening it in an editor and fully deleting it, keepmenu stops responding and I get:\n\n```\nProcess DmenuRunner-2:\nTraceback (most recent call last):\n  File \"/usr/bin/keepmenu\", line 1258, in \u003cmodule\u003e\n    MANAGER = client()\n  File \"/usr/bin/keepmenu\", line 1071, in client\n    mgr.connect()\n  File \"/usr/lib/python3.7/multiprocessing/managers.py\", line 512, in connect\n    conn = Client(self._address, authkey=self._authkey)\n  File \"/usr/lib/python3.7/multiprocessing/connection.py\", line 492, in Client\n    c = SocketClient(address)\n  File \"/usr/lib/python3.7/multiprocessing/connection.py\", line 619, in SocketClient\n    s.connect(address)\nConnectionRefusedError: [Errno 111] Connection refused\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n    self.run()\n  File \"/usr/bin/keepmenu\", line 1106, in run\n    self.dmenu_run()\n  File \"/usr/bin/keepmenu\", line 1181, in dmenu_run\n    edit = edit_entry(self.kpo, entry)\n  File \"/usr/bin/keepmenu\", line 1008, in edit_entry\n    setattr(kp_entry, field, sel)\n  File \"/usr/lib/python3.7/site-packages/pykeepass/entry.py\", line 159, in notes\n    return self._set_string_field('Notes', value)\n  File \"/usr/lib/python3.7/site-packages/pykeepass/entry.py\", line 91, in _set_string_field\n    self._element.append(E.String(E.Key(key), E.Value(value)))\n  File \"src/lxml/builder.py\", line 226, in lxml.builder.ElementMaker.__call__\nTypeError: bad argument type: NoneType(None)\n```\n\nIf I'm reading the pykeepass source code right, it doesn't look like it supports either setting the notes field to None or deleting it entirely.","files":null}]}